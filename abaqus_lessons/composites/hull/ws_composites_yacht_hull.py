#
#    Analysis of Composite Materials with Abaqus
#    Composite Yacht Hull
#

#
#    This script inputs a .sat file
#
from abaqus import *
from abaqusConstants import *
from caeModules import *
from driverUtils import executeOnCaeStartup

executeOnCaeStartup()

Mdb()
session.viewports['Viewport: 1'].setValues(displayedObject=None)

testName = 'CompositeHull'
mdb.Model(name=testName)
del mdb.models['Model-1']
yachtModel = mdb.models[testName]

# Import .sat file
#
acis = mdb.openAcis('compositehull_geometry.sat', scaleFromFile=OFF)
yachtModel.PartFromGeometryFile(name='compositehull', 
    geometryFile=acis, dimensionality=THREE_D, type=DEFORMABLE_BODY, 
    topology=SHELL)
p = yachtModel.parts['compositehull']

session.viewports['Viewport: 1'].setValues(displayedObject=p)
session.viewports['Viewport: 1'].partDisplay.setValues(mesh=ON)
session.viewports['Viewport: 1'].partDisplay.meshOptions.setValues(
    meshTechnique=ON)

# Clean geometry
#
e = p.edges
p.Stitch(edgeList = e[55:56]+e[171:172], stitchTolerance=1.0)
p.checkGeometry()
p.Stitch(edgeList = e[51:52]+e[86:87], stitchTolerance=1.0)
p.checkGeometry()

v = p.vertices
verts = v.findAt(((-9584.558642, 1938.012491, -1494.847706), ))
pickedEntities =(verts, )
p.ignoreEntity(entities=pickedEntities)

e = p.edges
edges = e.findAt(((-9524.623425, 633.620505, 9.320717), ), ((-8857.804714, 
    2063.697687, -1438.77936), ), ((4653.53605, 1925.933452, -1588.414089), ), 
    ((5773.214679, 1712.905267, -1677.290509), ), ((6412.94737, 1582.739999, 
    -1766.680113), ), ((8097.135196, 191.301155, 323.546806), ), ((6788.027284, 
    1491.245292, -1779.641197), ), ((7250.700522, 1372.172146, -1796.37249), ), 
    ((9222.172497, 720.896728, -1858.20949), ), ((8165.146895, 1099.261201, 
    -1789.190883), ), ((-213.163261, 785.75177, 518.859543), ), ((-1124.4, 
    665.174574, -521.745653), ), ((-1141.239359, 650.0, 376.593674), ), ((
    -1317.464147, 625.043613, 527.165588), ))
v = p.vertices
verts = v.findAt(((-9584.4, 582.101826, 8.575296), ), ((-8624.4, 2112.948685, 
    -1498.34012), ), ((-9584.361382, 1937.88172, -1493.466862), ), ((
    4580.632701, 1931.961281, -1543.887168), ), ((4875.534694, 1906.333387, 
    -1716.15335), ), ((4875.6, 1906.650674, -1718.019653), ), ((6075.6, 
    1664.485496, -1770.901357), ), ((6075.595473, 1664.485393, -1770.8963), ), 
    ((6525.6, 1557.15334, -1776.167508), ), ((6525.529493, 1557.156037, 
    -1776.107398), ), ((8132.871818, 188.776258, 320.536175), ), ((6875.6, 
    1470.070504, -1785.972006), ), ((6875.51576, 1470.060869, -1785.850961), ), 
    ((7375.6, 1340.969656, -1808.827319), ), ((7375.588644, 1340.961985, 
    -1808.788387), ), ((8427.020115, 1027.622169, -1839.485289), ), ((
    8427.774299, 1027.423429, -1839.680602), ), ((9474.942924, 591.64712, 
    -1862.214222), ), ((-479.451445, 804.903604, 517.946754), ), ((-1124.4, 
    684.57963, -1862.898076), ), ((-1191.757435, 650.0, -74.694845), ), ((
    -1381.819052, 616.726192, 527.116333), ))
pickedEntities =(verts, edges, )
p.ignoreEntity(entities=pickedEntities)
verts = v.findAt(((7989.875608, 198.888497, 331.951278), ))
pickedEntities =(verts, )
p.ignoreEntity(entities=pickedEntities)
e = p.edges
edges = e.findAt(((-9641.402028, 648.4193, -1564.800601), ))
v = p.vertices
verts = v.findAt(((-9812.408113, 643.6772, -1536.4802), ))
pickedEntities =(verts, edges, )
p.ignoreEntity(entities=pickedEntities)
session.viewports['Viewport: 1'].partDisplay.setValues(mesh=OFF)
session.viewports['Viewport: 1'].partDisplay.meshOptions.setValues(
    meshTechnique=OFF)
session.viewports['Viewport: 1'].view.fitView()

f = p.faces
pickedFaces = f.getSequenceFromMask(mask=('[#0:2 #4000000 ]', ), )
p.PartitionFaceByShortestPath(point1=v[224], point2=v[142], faces=pickedFaces)
p.RepairSmallFaces(faceList = f[91:92], toleranceChecks=False)

#
# Flip normal
f = p.faces
faces = f.findAt(((9650.684228, 356.479907, -1344.403877), ), ((9652.452457, 
    180.434501, -768.323224), ), ((10005.750417, 289.359457, -1903.298856), ), 
    ((1875.6, 761.645996, -1662.638143), ), ((-4539.708659, 650.0, 
    -1603.104899), ), ((1875.6, 557.168762, -1784.487874), ), ((8631.041688, 
    853.778861, -1865.570637), ), ((-9688.830729, 650.0, -332.089696), ), ((
    9217.993791, 0.970563, 244.574047), ), ((9392.609762, 642.00119, 
    -1879.263774), ), ((-958.066995, 674.413077, 325.636019), ))
regions = regionToolset.Region(faces=faces)
p.flipNormal(regions=regions)

# Create set
#
f = p.faces
faces = f.findAt(((-9584.453512, 1884.394972, -1498.742462), ), ((-9666.159922, 
    1558.994096, -1508.990079), ), ((-9664.256383, 1238.511343, -1529.745497), 
    ), ((-8441.114908, 1901.800829, -1531.454259), ), ((-9487.093682, 
    1952.23451, -1495.878993), ), ((-5531.966618, 2455.188035, -1536.464357), 
    ), ((-5448.313021, 200.647145, -1803.456083), ), ((-3624.278128, 
    541.796283, -1832.118987), ), ((-9774.464874, 647.892404, -1542.59694), ), 
    ((-9622.422058, 703.710781, -1565.618787), ), ((-8393.865656, 547.971647, 
    -1654.564543), ), ((-4123.327149, 2515.2881, -1556.403238), ))
p.Set(faces=faces, name='AFT')
faces = f.findAt(((-5448.313021, 200.647145, -1803.456083), ), ((-3624.278128, 
    541.796283, -1832.118987), ), ((-9774.464874, 647.892404, -1542.59694), ), 
    ((-8393.865656, 547.971647, -1654.564543), ))
p.Set(faces=faces, name='AFT_PATCH')
faces = f.findAt(((8395.568844, 817.535034, -1683.256763), ))
p.Set(faces=faces, name='BLKHD_1')
faces = f.findAt(((4875.6, 70.945608, 181.55957), ), ((4875.6, 1023.984945, 
    20.239329), ))
p.Set(faces=faces, name='BLKHD_2')
faces = f.findAt(((1875.6, 761.645996, -1662.638143), ), ((1875.6, 557.168762, 
    -1784.487874), ))
p.Set(faces=faces, name='BLKHD_3')
faces = f.findAt(((1875.6, 557.168762, -1784.487874), ))
p.Set(faces=faces, name='BLKHD_3_PATCH')
faces = f.findAt(((-124.4, 419.742828, -85.589172), ), ((-124.4, 916.001709, 
    -803.877075), ))
p.Set(faces=faces, name='BLKHD_4')
faces = f.findAt(((-124.4, 419.742828, -85.589172), ))
p.Set(faces=faces, name='BLKHD_4_PATCH')
faces = f.findAt(((-1124.4, 670.193949, -1267.267016), ), ((-1124.4, 
    347.336751, 130.374619), ))
p.Set(faces=faces, name='BLKHD_5')
faces = f.findAt(((-1124.4, 347.336751, 130.374619), ))
p.Set(faces=faces, name='BLKHD_5_PATCH')
faces = f.findAt(((-4124.4, 691.393799, -1428.266683), ), ((-4124.4, 
    541.668772, -1061.873423), ), ((-7524.4, 541.526744, -1055.583293), ), ((
    -7524.4, 685.297729, -378.289268), ))
p.Set(faces=faces, name='BLKHD_6')
faces = f.findAt(((-4124.4, 541.668772, -1061.873423), ), ((-7524.4, 
    541.526744, -1055.583293), ))
p.Set(faces=faces, name='BLKHD_6_PATCH')
faces = f.findAt(((-9957.260508, 647.892395, -1063.306256), ), ((-10096.807751, 
    703.113261, -607.462087), ))
p.Set(faces=faces, name='BLKHD_7')
faces = f.findAt(((4292.1722, 466.769945, 185.386546), ), ((5075.817545, 
    410.701271, 167.875092), ))
p.Set(faces=faces, name='L1')
faces = f.findAt(((-16.636088, 782.246196, -215.07104), ))
p.Set(faces=faces, name='L2')
faces = f.findAt(((-958.066995, 674.413077, 325.636019), ))
p.Set(faces=faces, name='L3')
faces = f.findAt(((-4539.708659, 650.0, -1603.104899), ), ((-9688.830729, 
    650.0, -332.089696), ), ((-2901.041341, 650.0, -1640.050537), ))
p.Set(faces=faces, name='L4')
faces = f.findAt(((2543.542643, 0.0, -1110.138855), ))
p.Set(faces=faces, name='L5')
faces = f.findAt(((-290.943152, 125.694211, 550.571089), ), ((2408.939517, 
    79.095882, 523.786514), ), ((169.055282, 109.293679, 549.390765), ))
p.Set(faces=faces, name='KEEL_LOCAL')
faces = f.findAt(((2275.666409, 2279.498485, -1676.581448), ), ((203.99271, 
    2452.949917, -1633.228868), ), ((-1094.532304, 2203.587408, -1660.885899), 
    ))
p.Set(faces=faces, name='COCKPIT')
faces = f.findAt(((10005.750417, 289.359457, -1903.298856), ), ((6958.821723, 
    1346.743638, -1813.260234), ), ((6817.260821, 1382.94181, -1809.064487), ), 
    ((7485.340365, 1221.446012, -1826.804353), ), ((6225.622526, 1266.226095, 
    -1832.237584), ), ((5075.600943, 1550.809493, -1794.794096), ), ((
    4796.143766, 1891.439617, -1742.079019), ), ((3275.695851, 2161.162787, 
    -1699.298959), ), ((4042.269076, 1627.128697, -1785.110241), ), ((
    2975.681065, 2199.16546, -1692.372377), ), ((8631.041688, 853.778861, 
    -1865.570637), ))
p.Set(faces=faces, name='DECK_FWD')
faces = f.findAt(((2275.666409, 2279.498485, -1676.581448), ))
p.Set(faces=faces, name='COCKPIT_PATCH_FWD')
faces = f.findAt(((-1094.532304, 2203.587408, -1660.885899), ))
p.Set(faces=faces, name='COCKPIT_PATCH_AFT')
faces = f.findAt(((162.009954, 1986.435884, -25.78949), ), ((9650.684228, 
    356.479907, -1344.403877), ), ((9652.452457, 180.434501, -768.323224), ), (
    (-10162.170008, 754.216387, -131.270497), ), ((-9988.215076, 1322.103293, 
    -437.777414), ), ((-9871.174168, 774.443438, -79.132185), ), ((-230.05148, 
    2480.788248, -1624.222259), ), ((-5759.286621, 1774.266828, -10.192437), ), 
    ((-3625.378831, 1996.862706, -23.931077), ), ((-393.106895, 2463.99253, 
    -1174.487847), ), ((893.408255, 2390.156365, -1365.623082), ), ((
    2142.791257, 1812.410854, -86.169857), ), ((2776.160105, 1672.153679, 
    -31.085037), ), ((3376.250941, 1577.800473, -36.045252), ), ((3959.504984, 
    1479.048764, -42.405505), ), ((-9449.096073, 696.243804, 9.129876), ), ((
    -8443.925852, 1236.009344, -14.664377), ), ((4749.914103, 1843.677733, 
    -1256.168196), ), ((5276.999961, 1257.137397, -103.347887), ), ((
    6226.46696, 1041.714564, -117.010285), ), ((6643.119146, 939.701978, 
    -123.469616), ), ((7163.466308, 730.783948, -11.053483), ), ((9392.609762,
    642.00119, -1879.263774), ), ((7489.854939, 1309.437563, -1811.330055), ))
p.Set(faces=faces, name='HULL_TOP')
faces = f.findAt(((2142.284546, 286.854506, 522.89429), ), ((-290.943152, 
    125.694211, 550.571089), ), ((2408.939517, 79.095882, 523.786514), ), ((
    169.055282, 109.293679, 549.390765), ), ((-10208.18288, 642.395123, 
    -107.16646), ), ((-10045.969785, 146.462073, -25.946006), ), ((
    -5716.539035, 53.828087, 406.712278), ), ((4566.103468, 34.136142, 
    478.482994), ), ((167.936227, 218.280724, 547.075393), ), ((-9571.227306, 
    605.045601, 7.11819), ), ((9217.993791, 0.970563, 244.574047), ), ((
    -957.615032, 221.758963, 547.400827), ), ((-1667.37334, 644.602428, 
    522.563002), ), ((6963.144036, 39.191033, 401.485634), ), ((-9884.754444, 
    205.682831, -4.256563), ))
p.Set(faces=faces, name='HULL_BOTTOM')
faces = f.findAt(((-7710.452145, 1318.379389, 57.986006), ), ((7027.943974, 
    297.071606, 381.050371), ), ((6817.752588, 771.003099, 54.846216), ), ((
    6376.361926, 814.660879, 129.51695), ), ((5676.780835, 967.315374, 
    136.530031), ), ((-5752.253742, 705.572649, 378.258596), ), ((4209.794107, 
    1233.662611, 164.107472), ), ((4572.738034, 497.505443, 457.848436), ), ((
    3676.24336, 1361.421072, 135.044664), ), ((2275.697314, 1696.651122, 
    25.353486), ), ((3175.994246, 1521.375372, 62.652419), ), ((7817.243023, 
    472.762597, 111.980764), ), ((-8776.550403, 961.729454, 42.949627), ), ((
    -1624.950775, 1961.494899, 79.179157), ), ((-624.691864, 1985.884958, 
    30.688299), ), ((159.669057, 848.868065, 511.401026), ))
p.Set(faces=faces, name='HULL_TURN')

# Create materials
#
session.viewports['Viewport: 1'].partDisplay.setValues(sectionAssignments=ON, 
    engineeringFeatures=ON)
yachtModel.Material(name='Beam', description='Beams for panels')
yachtModel.materials['Beam'].Density(table=((1.5e-09, ), ))
yachtModel.materials['Beam'].Elastic(table=((128000.0, 0.3), ))

# Create point mass for keel
#
refPnt1 = p.ReferencePoint(point=(875.6, 0.0, 3541.18201))
r = p.referencePoints
r1 = r[refPnt1.id]
refPoints=(r1, )
region=regionToolset.Region(referencePoints=refPoints)
yachtModel.parts['compositehull'].engineeringFeatures.PointMassInertia(
    name='Keelpoint_mass', region=region, mass=10.0, alpha=0.0, composite=0.0)

# Create stringers
#
e = p.edges
edges = e.findAt(((-8534.023693, 650.0, -1037.157227), ), ((-7789.212203, 
    650.0, -1033.351203), ), ((-7758.346375, 650.0, -862.157227), ), ((
    -7762.152398, 650.0, -468.023055), ), ((-8035.306414, 650.0, -437.157227), 
    ), ((-8738.601663, 650.0, -440.585152), ), ((-8818.965485, 650.0, 
    -573.165121), ), ((-8924.743503, 650.0, -905.87657), ), ((298.546099, 
    751.871769, 318.602946), ), ((306.608022, 755.912906, -0.740521), ), ((
    241.402557, 763.751299, -218.583364), ), ((154.149423, 770.371998, 
    -242.749202), ), ((38.647838, 777.057479, -131.073278), ), ((31.04225, 
    773.099312, 180.269094), ), ((96.440726, 765.049062, 411.795375), ), ((
    178.271826, 758.711699, 443.31184), ), ((1686.72886, 652.123261, 
    317.029606), ), ((1694.790783, 656.164397, -2.313861), ), ((1629.585318, 
    664.00279, -220.156704), ), ((1542.332184, 670.623489, -244.322542), ), ((
    1426.8306, 677.30897, -132.646618), ), ((1419.225011, 673.350803, 
    178.695754), ), ((1484.623487, 665.300553, 410.222035), ), ((1566.454587, 
    658.96319, 441.7385), ), ((-124.4, 981.109489, -1243.59942), ), ((-124.4, 
    974.369208, -514.679268), ), ((-124.4, 1194.806015, -480.620721), ), ((
    -124.4, 1738.075892, -476.566603), ), ((-124.4, 1772.744891, -739.193946), 
    ), ((-124.4, 1779.484599, -1406.720837), ), ((-124.4, 1583.396444, 
    -1473.713802), ), ((-124.4, 1061.706336, -1576.092749), ), ((1875.6, 
    878.048318, -1547.587721), ), ((1875.6, 1087.470427, -1454.990236), ), ((
    1875.6, 1098.888497, -760.087721), ), ((1875.6, 1006.291012, -409.005791), 
    ), ((1875.6, 723.888497, -397.587721), ), ((-4124.4, 1949.224934, 
    -1396.462381), ), ((-4124.4, 1193.911037, -1433.94642), ), ((-4124.4, 
    741.368626, -1298.681727), ), ((-4124.4, 702.946594, -410.978638), ), ((
    -4124.4, 807.867806, -16.915152), ), ((-4124.4, 1887.390018, -641.932517), 
    ), ((-2875.072718, 650.0, -238.602966), ), ((-3038.918641, 650.0, 
    -1540.982699), ), ((-3555.072718, 650.0, -1060.974915), ), ((-3391.226795, 
    650.0, 241.404818), ), ((-5373.727282, 650.0, -238.602966), ), ((
    -5209.881359, 650.0, -1540.982699), ), ((-4693.727282, 650.0, 
    -1060.974915), ), ((-4857.573205, 650.0, 241.404818), ), ((-7175.821411, 
    650.0, -355.650894), ), ((-7052.936969, 650.0, -1332.435694), ), ((
    -6665.821411, 650.0, -972.429855), ), ((-6788.705854, 650.0, 4.354944), ), 
    ((-1124.4, 2096.182174, -1154.507537), ), ((-1124.4, 1603.10487, 
    -1433.718762), ), ((-1124.4, 892.904085, -1417.885895), ), ((-1124.4, 
    702.946594, -942.853882), ), ((-1124.4, 716.383332, -87.321014), ), ((
    -1124.4, 1263.179183, -123.96599), ), ((4875.6, 866.842229, -392.794723), 
    ), ((4875.6, 1027.476554, -398.659081), ), ((4875.6, 1412.377755, 
    -1267.879681), ), ((4875.6, 1434.053149, -1607.173498), ), ((4875.6, 
    356.061405, -1609.177578), ), ((4875.6, 324.902682, -392.794723), ), ((
    1875.6, 423.888497, -397.587721), ), ((1875.6, 210.306567, -490.185206), ), 
    ((1875.6, 198.888497, -1185.087721), ), ((1875.6, 291.485982, 
    -1536.169651), ), ((1875.6, 586.367959, -1547.587721), ), ((-7524.4, 
    702.946594, -977.208987), ), ((-7524.4, 706.349449, -101.018541), ), ((
    -7524.4, 1838.80432, -709.594146), ), ((-7524.4, 1888.897103, 
    -1378.550749), ), ((-7524.4, 1082.669617, -1402.349976), ), ((-7524.4, 
    839.178679, -1402.429669), ), ((-7524.4, 713.009691, -1315.422895), ), ((
    8197.027396, 437.76145, -697.037898), ), ((8380.207186, 712.530168, 
    -1606.950498), ), ((8381.020774, 560.532404, -1610.991848), ), ((
    8380.945659, 117.392849, -1610.618731), ), ((8318.859596, 114.306266, 
    -1302.217397), ), ((8134.953262, 114.69855, -388.695825), ), ((8134.444981, 
    139.292729, -386.171032), ), ((8134.900855, 234.551991, -388.435501), ), ((
    8135.468671, 343.083003, -391.256024), ))
p.Stringer(edges=edges, name='Stringer-1')

# Assign layup & beam sections
#
yachtModel.TrussSection(name='Stringer', material='Beam', area=1.0)
region = regionToolset.Region(stringerEdges=(('Stringer-1', edges), ))
p.SectionAssignment(region=region, sectionName='Stringer', offset=0.0)
v, e = p.vertices, p.edges
dCsys1 = p.DatumCsysByThreePoints(origin=v.findAt(coordinates=(2675.6, 0.0, 
    519.530561)), name='Datum csys-1', coordSysType=CARTESIAN, 
    point1=p.InterestingPoint(edge=e.findAt(coordinates=(2675.6, 0.0, 
    -1314.903258)), rule=MIDDLE), point2=p.InterestingPoint(edge=e.findAt(
    coordinates=(2075.6043, 0.0, 529.769965)), rule=MIDDLE))
layupOrientation = None
datum1 = p.datums[dCsys1.id]

# Create part instance
#
a = yachtModel.rootAssembly
session.viewports['Viewport: 1'].setValues(displayedObject=a)
a = yachtModel.rootAssembly
dCsys2 = a.DatumCsysByDefault(CARTESIAN)
p = yachtModel.parts['compositehull']
a.Instance(name='compositehull-1', part=p, dependent=ON)

# Create surfaces & reference points for couplings
#
a = yachtModel.rootAssembly
s1 = a.instances['compositehull-1'].faces
side1Faces1 = s1.findAt(((-290.943152, 125.694211, 550.571089), ), ((
    2408.939517, 79.095882, 523.786514), ), ((169.055282, 109.293679, 
    549.390765), ))
a.Surface(side1Faces=side1Faces1, name='Keel_Coupling')
a = yachtModel.rootAssembly
s1 = a.instances['compositehull-1'].faces
side1Faces1 = s1.findAt(((893.408255, 2390.156365, -1365.623082), ))
a.Surface(side1Faces=side1Faces1, name='Stay')
a = yachtModel.rootAssembly
v11 = a.instances['compositehull-1'].vertices
refPnt2 = a.ReferencePoint(point=v11.findAt(coordinates=(758.031046, 2418.143846, 
    -1643.587731)))
r1 = a.referencePoints
refPoints1=(r1[refPnt2.id], )
a.Set(referencePoints=refPoints1, name='Stay_RP')
a = yachtModel.rootAssembly
r1 = a.instances['compositehull-1'].referencePoints
refPoints1=(r1[refPnt1.id], )
a.Set(referencePoints=refPoints1, name='Keel_RP')

# Create couplings
#
session.viewports['Viewport: 1'].assemblyDisplay.setValues(loads=OFF, bcs=OFF, 
    predefinedFields=OFF, interactions=ON, constraints=ON, 
    engineeringFeatures=ON)
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
verts1 = v1.findAt(((10152.672842, 0.0, -1913.372052), ))
region1=regionToolset.Region(vertices=verts1)
a = yachtModel.rootAssembly
s1 = a.instances['compositehull-1'].edges
side1Edges1 = s1.findAt(((9685.643504, -0.002749, -415.558504), ))
region2=regionToolset.Region(side1Edges=side1Edges1)
yachtModel.Coupling(name='Forstay_coupling', controlPoint=region1, 
    surface=region2, influenceRadius=WHOLE_SURFACE, couplingType=DISTRIBUTING, 
    weightingMethod=UNIFORM, localCsys=None, u1=ON, u2=ON, u3=ON, ur1=ON, 
    ur2=ON, ur3=ON)
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
verts1 = v1.findAt(((-9584.4, 0.0, -1587.661107), ))
region1=regionToolset.Region(vertices=verts1)
a = yachtModel.rootAssembly
s1 = a.instances['compositehull-1'].edges
side1Edges1 = s1.findAt(((-9803.720691, 160.9193, -1564.858478), ), ((
    -9915.362681, 0.0, -1200.169439), ))
region2=regionToolset.Region(side1Edges=side1Edges1)
yachtModel.Coupling(name='Rear_stay_coupling', controlPoint=region1, 
    surface=region2, influenceRadius=WHOLE_SURFACE, couplingType=DISTRIBUTING, 
    weightingMethod=UNIFORM, localCsys=None, u1=ON, u2=ON, u3=ON, ur1=ON, 
    ur2=ON, ur3=ON)
session.viewports['Viewport: 1'].view.fitView()
a = yachtModel.rootAssembly
region1=a.sets['Stay_RP']
a = yachtModel.rootAssembly
region2=a.surfaces['Stay']
yachtModel.Coupling(name='Stay', controlPoint=region1, 
    surface=region2, influenceRadius=WHOLE_SURFACE, couplingType=DISTRIBUTING, 
    weightingMethod=UNIFORM, localCsys=None, u1=ON, u2=ON, u3=ON, ur1=ON, 
    ur2=ON, ur3=ON)
a = yachtModel.rootAssembly
region1=a.sets['Keel_RP']
a = yachtModel.rootAssembly
region2=a.surfaces['Keel_Coupling']
yachtModel.Coupling(name='Keel_coupling', controlPoint=region1, 
    surface=region2, influenceRadius=WHOLE_SURFACE, couplingType=KINEMATIC, 
    localCsys=None, u1=ON, u2=ON, u3=ON, ur1=ON, ur2=ON, ur3=ON)

# Create step and output requestes
#
session.viewports['Viewport: 1'].assemblyDisplay.setValues(
    adaptiveMeshConstraints=ON)
yachtModel.StaticStep(name='Step-1', previous='Initial', 
    description='Apply loads and inertia relief')
session.viewports['Viewport: 1'].assemblyDisplay.setValues(step='Step-1')
yachtModel.historyOutputRequests['H-Output-1'].setValues(variables=(
    'IRF1', 'IRF2', 'IRF3', 'IRM1', 'IRM2', 'IRM3', 'ALLAE', 'ALLCD', 'ALLDMD', 
    'ALLEE', 'ALLFD', 'ALLIE', 'ALLJD', 'ALLKE', 'ALLKL', 'ALLPD', 'ALLQB', 
    'ALLSE', 'ALLSD', 'ALLVD', 'ALLWK', 'ETOTAL', 'IRMASS'))

# Create loads and bc's
#
session.viewports['Viewport: 1'].assemblyDisplay.setValues(loads=ON, bcs=ON, 
    predefinedFields=ON, interactions=OFF, constraints=OFF, 
    engineeringFeatures=OFF)
a = mdb.models['CompositeHull'].rootAssembly
e1 = a.instances['compositehull-1'].edges
edges1 = e1.findAt(((-874.40233, 0.0, 550.862904), ), ((2075.6043, 0.0, 
    529.769965), ), ((375.619113, 0.0, 549.063145), ), ((9685.643504, 
    -0.002749, -415.558504), ), ((9644.86821, 0.0, -1932.414725), ), ((
    10183.404631, 0.0, -1912.219609), ), ((-9915.362681, 0.0, -1200.169439), ), 
    ((-10091.493742, 0.0, -35.004361), ), ((-9638.506221, 0.0, -1584.325306), 
    ), ((9261.775928, 0.0, 229.625735), ), ((8285.946372, 0.0, 341.750025), ), 
    ((-9070.331379, 0.0, 106.954323), ), ((-8039.606384, 0.0, -1690.844497), ), 
    ((7250.600005, 0.0, -1946.16864), ), ((6788.099957, 0.0, -1945.991237), ), 
    ((8179.903725, 0.0, -1944.609596), ), ((6413.09989, 0.0, -1945.377741), ), 
    ((5775.599076, 0.0, -1943.533384), ), ((4750.59986, 0.0, -1939.000631), ), 
    ((3725.599853, 0.0, -1933.19567), ), ((4250.59988, 0.0, -1936.291295), ), (
    (2475.599568, 0.0, -1924.978748), ), ((1375.59536, 0.0, -1916.522947), ), (
    (-1124.4, 0.0, 81.361932), ), ((-3374.622592, 0.0, 508.475485), ), ((
    -4124.4, 0.0, -1258.833408), ), ((-6675.565968, 0.0, 344.024297), ), ((
    -7524.4, 0.0, -1222.028474), ), ((-374.402378, 0.0, -1899.671837), ), ((
    4875.6, 0.0, -1857.020045), ), ((4875.6, 0.0, -176.964132), ), ((
    3225.635099, 0.0, 508.898453), ), ((-124.4, 0.0, -160.36442), ), ((
    8332.20689, 0.0, -1368.517675), ), ((-4974.71474, 0.0, -1819.098351), ), ((
    -1874.43969, 0.0, -1880.261529), ), ((3125.599817, 0.0, -1929.407083), ), (
    (5653.110626, 0.0, 448.070895), ), ((9218.702261, 0.0, -1940.247128), ), ((
    -9922.859351, 0.0, -5.383727), ))
xv1 = a.instances['compositehull-1'].vertices
xVerts1 = xv1.findAt(
    ((10152.672842, 0.0, -1913.372052), ),
    ((-9584.4, 0.0, -1587.661107), ))
region = regionToolset.Region(edges=edges1, xVertices=xVerts1)
yachtModel.YsymmBC(name='symmetric BC at mid-plane', 
    createStepName='Initial', region=region)

a = yachtModel.rootAssembly
region = a.sets['Stay_RP']
yachtModel.ConcentratedForce(name='StayLoad', 
    createStepName='Step-1', region=region, cf3=-7500.0, localCsys=None)
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
verts1 = v1.findAt(((1875.6, 0.0, 532.831755), ))
region = regionToolset.Region(vertices=verts1)
yachtModel.ConcentratedForce(name='MastLoad', 
    createStepName='Step-1', region=region, cf3=17500.0, localCsys=None)
yachtModel.InertiaRelief(name='Inertia Relief', 
    createStepName='Step-1', u1=1, u2=0, u3=1, ur1=0, ur2=1, ur3=0,
    localCoordinates=None)
a = yachtModel.rootAssembly
d1 = a.datums
dCsys3 = a.DatumCsysByOffset(datumCoordSys=d1[dCsys2.id], name='Hydrostatic_load_CSYS', 
    coordSysType=CARTESIAN, vector=(0.0, 0.0, -2000.0))
datum = a.datums[dCsys3.id]
yachtModel.ExpressionField(name='Hydrostatic Load', localCsys=datum, 
    description='Buoyant Force', expression='1000*9.81*Z*1e-9')
a = yachtModel.rootAssembly
s1 = a.instances['compositehull-1'].faces
side1Faces1 = s1.findAt(((2142.284546, 286.854506, 522.89429), ), ((
    -290.943152, 125.694211, 550.571089), ), ((2408.939517, 79.095882, 
    523.786514), ), ((162.009954, 1986.435884, -25.78949), ), ((169.055282, 
    109.293679, 549.390765), ), ((-9957.260508, 647.892395, -1063.306256), ), (
    (-10045.969785, 146.462073, -25.946006), ), ((-10162.170008, 754.216387, 
    -131.270497), ), ((-9988.215076, 1322.103293, -437.777414), ), ((
    -9871.174168, 774.443438, -79.132185), ), ((-230.05148, 2480.788248, 
    -1624.222259), ), ((-5759.286621, 1774.266828, -10.192437), ), ((
    -3625.378831, 1996.862706, -23.931077), ), ((-393.106895, 2463.99253, 
    -1174.487847), ), ((893.408255, 2390.156365, -1365.623082), ), ((
    2142.791257, 1812.410854, -86.169857), ), ((2776.160105, 1672.153679, 
    -31.085037), ), ((3376.250941, 1577.800473, -36.045252), ), ((3959.504984, 
    1479.048764, -42.405505), ), ((-7710.452145, 1318.379389, 57.986006), ), ((
    7027.943974, 297.071606, 381.050371), ), ((6817.752588, 771.003099, 
    54.846216), ), ((6376.361926, 814.660879, 129.51695), ), ((5676.780835, 
    967.315374, 136.530031), ), ((-5752.253742, 705.572649, 378.258596), ), ((
    4209.794107, 1233.662611, 164.107472), ), ((4572.738034, 497.505443, 
    457.848436), ), ((3676.24336, 1361.421072, 135.044664), ), ((2275.697314, 
    1696.651122, 25.353486), ), ((3175.994246, 1521.375372, 62.652419), ), ((
    -5716.539035, 53.828087, 406.712278), ), ((4566.103468, 34.136142, 
    478.482994), ), ((167.936227, 218.280724, 547.075393), ), ((-10096.807751, 
    703.113261, -607.462087), ), ((-9571.227306, 605.045601, 7.11819), ), ((
    -9449.096073, 696.243804, 9.129876), ), ((-8443.925852, 1236.009344, 
    -14.664377), ), ((4749.914103, 1843.677733, -1256.168196), ), ((
    5276.999961, 1257.137397, -103.347887), ), ((6226.46696, 1041.714564, 
    -117.010285), ), ((6643.119146, 939.701978, -123.469616), ), ((7817.243023, 
    472.762597, 111.980764), ), ((7163.466308, 730.783948, -11.053483), ), ((
    -8776.550403, 961.729454, 42.949627), ), ((7489.854939, 1309.437563, 
    -1811.330055), ), ((-1624.950775, 1961.494899, 79.179157), ), ((
    -624.691864, 1985.884958, 30.688299), ), ((159.669057, 848.868065, 
    511.401026), ), ((-957.615032, 221.758963, 547.400827), ), ((-1667.37334, 
    644.602428, 522.563002), ), ((6963.144036, 39.191033, 401.485634), ), ((
    -9884.754444, 205.682831, -4.256563), ))
side2Faces1 = s1.findAt(
   ((9650.684228, 356.479907, -1344.403877), ),
   ((9652.452457, 180.434501,  -768.323224), ),
   ((9217.993791, 0.970563,     244.574047), ),
   ((9392.609762, 642.00119,  -1879.263774), ))
region = regionToolset.Region(side1Faces=side1Faces1, side2Faces=side2Faces1)
yachtModel.Pressure(name='Hydrostatic', createStepName='Step-1', 
    region=region, distributionType=FIELD, field='Hydrostatic Load', 
    magnitude=1.0, amplitude=UNSET)
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
dPnt1 = a.DatumPointByOffset(point=v1.findAt(coordinates=(10152.672842, 0.0, 
    -1913.372052)), vector=(0.258819045102434, -1.51814850095782e-15, 
    0.965925826289092))
a = yachtModel.rootAssembly
v11 = a.instances['compositehull-1'].vertices
dPnt2 = a.DatumPointByOffset(point=v11.findAt(coordinates=(10152.672842, 0.0, 
    -1913.372052)), vector=(-0.965925826289092, -3.78253038072995e-16, 
    0.258819045102434))
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
d1 = a.datums
dCsys4 = a.DatumCsysByThreePoints(origin=v1.findAt(coordinates=(10152.672842, 0.0, 
    -1913.372052)), point1=d1[dPnt1.id], point2=d1[dPnt2.id], name='Fore_stay_load', 
    coordSysType=CARTESIAN)
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
verts1 = v1.findAt(((10152.672842, 0.0, -1913.372052), ))
region = regionToolset.Region(vertices=verts1)
datum = a.datums[dCsys4.id]
yachtModel.ConcentratedForce(name='Fore_stay_load', 
    createStepName='Step-1', region=region, cf1=-5500.0, localCsys=datum)
a = yachtModel.rootAssembly
v11 = a.instances['compositehull-1'].vertices
dPnt3 = a.DatumPointByOffset(point=v11.findAt(coordinates=(-9584.4, 0.0, 
    -1587.661107)), vector=(0.374606593416061, -1.68180581831284e-15, 
    -0.927183854566727))
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
dPnt4 = a.DatumPointByOffset(point=v1.findAt(coordinates=(-9584.4, 0.0, -1587.661107)), 
    vector=(-0.927183854566727, -7.07373175161901e-16, -0.374606593416061))
a = yachtModel.rootAssembly
v11 = a.instances['compositehull-1'].vertices
d11 = a.datums
dCsys5 = a.DatumCsysByThreePoints(origin=v11.findAt(coordinates=(-9584.4, 0.0, 
    -1587.661107)), point1=d11[dPnt3.id], point2=d11[dPnt4.id], name='Rear_stay_load', 
    coordSysType=CARTESIAN)
a = yachtModel.rootAssembly
v1 = a.instances['compositehull-1'].vertices
verts1 = v1.findAt(((-9584.4, 0.0, -1587.661107), ))
region = regionToolset.Region(vertices=verts1)
datum = a.datums[dCsys5.id]
yachtModel.ConcentratedForce(name='Rear_stay_load', 
    createStepName='Step-1', region=region, cf1=4000.0, localCsys=datum)
session.viewports['Viewport: 1'].view.fitView()


v1 = a.instances['compositehull-1'].vertices
verts1 = v1.findAt(((10152.672842, 0.0, -1913.372052), ))
region = regionToolset.Region(vertices=verts1)
datum = mdb.models['CompositeHull'].rootAssembly.datums[19]
mdb.models['CompositeHull'].ZsymmBC(name='symm-fore', createStepName='Step-1', 
    region=region, localCsys=datum)

verts1 = v1.findAt(((-9584.4, 0.0, -1587.661107), ))
region = regionToolset.Region(vertices=verts1)
datum = mdb.models['CompositeHull'].rootAssembly.datums[23]
mdb.models['CompositeHull'].ZsymmBC(name='symm-rear', createStepName='Step-1', 
    region=region, localCsys=datum)

# Mesh part
#
session.viewports['Viewport: 1'].partDisplay.setValues(sectionAssignments=OFF, 
    engineeringFeatures=OFF, mesh=ON)
session.viewports['Viewport: 1'].partDisplay.meshOptions.setValues(
    meshTechnique=ON)
p.seedPart(size=100.0, deviationFactor=0.1)
import re, uti
pat = re.compile('Student|Learning')
if re.search(pat,uti.getProductVersion()):
   p.seedPart(size=600.0, deviationFactor=0.1)

elemType1 = mesh.ElemType(elemCode=S4R, elemLibrary=STANDARD, 
    secondOrderAccuracy=OFF, hourglassControl=DEFAULT)
elemType2 = mesh.ElemType(elemCode=S3, elemLibrary=STANDARD)
f = p.faces
faces = f.findAt(((2142.284546, 286.854506, 522.89429), ), ((-290.943152, 
    125.694211, 550.571089), ), ((2408.939517, 79.095882, 523.786514), ), ((
    162.009954, 1986.435884, -25.78949), ), ((169.055282, 109.293679, 
    549.390765), ), ((9650.684228, 356.479907, -1344.403877), ), ((9652.452457, 
    180.434501, -768.323224), ), ((10005.750417, 289.359457, -1903.298856), ), 
    ((-10208.18288, 642.395123, -107.16646), ), ((-9957.260508, 647.892395, 
    -1063.306256), ), ((-9774.464874, 647.892404, -1542.59694), ), ((
    -10045.969785, 146.462073, -25.946006), ), ((-10162.170008, 754.216387, 
    -131.270497), ), ((-9988.215076, 1322.103293, -437.777414), ), ((
    -9584.453512, 1884.394972, -1498.742462), ), ((-9666.159922, 1558.994096, 
    -1508.990079), ), ((-9664.256383, 1238.511343, -1529.745497), ), ((
    -9622.422058, 703.710781, -1565.618787), ), ((-9660.590746, 545.701949, 
    -1565.985287), ), ((-9871.174168, 774.443438, -79.132185), ), ((-230.05148, 
    2480.788248, -1624.222259), ), ((-5759.286621, 1774.266828, -10.192437), ), 
    ((-3625.378831, 1996.862706, -23.931077), ), ((-393.106895, 2463.99253, 
    -1174.487847), ), ((893.408255, 2390.156365, -1365.623082), ), ((
    2142.791257, 1812.410854, -86.169857), ), ((2776.160105, 1672.153679, 
    -31.085037), ), ((3376.250941, 1577.800473, -36.045252), ), ((3959.504984, 
    1479.048764, -42.405505), ), ((-7710.452145, 1318.379389, 57.986006), ), ((
    -8441.114908, 1901.800829, -1531.454259), ), ((-8393.865656, 547.971647, 
    -1654.564543), ), ((-9487.093682, 1952.23451, -1495.878993), ), ((
    7027.943974, 297.071606, 381.050371), ), ((6817.752588, 771.003099, 
    54.846216), ), ((6376.361926, 814.660879, 129.51695), ), ((6958.821723, 
    1346.743638, -1813.260234), ), ((6817.260821, 1382.94181, -1809.064487), ), 
    ((7485.340365, 1221.446012, -1826.804353), ), ((5676.780835, 967.315374, 
    136.530031), ), ((-5752.253742, 705.572649, 378.258596), ), ((6225.622526, 
    1266.226095, -1832.237584), ), ((5075.600943, 1550.809493, -1794.794096), 
    ), ((4796.143766, 1891.439617, -1742.079019), ), ((4209.794107, 
    1233.662611, 164.107472), ), ((4572.738034, 497.505443, 457.848436), ), ((
    3676.24336, 1361.421072, 135.044664), ), ((2275.697314, 1696.651122, 
    25.353486), ), ((3175.994246, 1521.375372, 62.652419), ), ((3275.695851, 
    2161.162787, -1699.298959), ), ((4042.269076, 1627.128697, -1785.110241), 
    ), ((2275.666409, 2279.498485, -1676.581448), ), ((-16.636088, 782.246196, 
    -215.07104), ), ((1875.6, 761.645996, -1662.638143), ), ((203.99271, 
    2452.949917, -1633.228868), ), ((-4124.4, 691.393799, -1428.266683), ), ((
    -4539.708659, 650.0, -1603.104899), ), ((-4124.4, 541.668772, 
    -1061.873423), ), ((-5716.539035, 53.828087, 406.712278), ), ((
    -5531.966618, 2455.188035, -1536.464357), ), ((-7524.4, 541.526744, 
    -1055.583293), ), ((2543.542643, 0.0, -1110.138855), ), ((4875.6, 
    70.945608, 181.55957), ), ((1875.6, 557.168762, -1784.487874), ), ((
    4292.1722, 466.769945, 185.386546), ), ((4566.103468, 34.136142, 
    478.482994), ), ((-124.4, 419.742828, -85.589172), ), ((-7524.4, 
    685.297729, -378.289268), ), ((-5448.313021, 200.647145, -1803.456083), ), 
    ((-3624.278128, 541.796283, -1832.118987), ), ((167.936227, 218.280724, 
    547.075393), ), ((2975.681065, 2199.16546, -1692.372377), ), ((8631.041688, 
    853.778861, -1865.570637), ), ((-10096.807751, 703.113261, -607.462087), ), 
    ((-9688.830729, 650.0, -332.089696), ), ((-9571.227306, 605.045601, 
    7.11819), ), ((-9449.096073, 696.243804, 9.129876), ), ((-8443.925852, 
    1236.009344, -14.664377), ), ((4749.914103, 1843.677733, -1256.168196), ), 
    ((5276.999961, 1257.137397, -103.347887), ), ((6226.46696, 1041.714564, 
    -117.010285), ), ((9217.993791, 0.970563, 244.574047), ), ((6643.119146, 
    939.701978, -123.469616), ), ((7817.243023, 472.762597, 111.980764), ), ((
    7163.466308, 730.783948, -11.053483), ), ((9392.609762, 642.00119,
    -1879.263774), ), ((-8776.550403, 961.729454, 42.949627), ),
    ((7489.854939, 
    1309.437563, -1811.330055), ), ((-1624.950775, 1961.494899, 79.179157), ), 
    ((-624.691864, 1985.884958, 30.688299), ), ((159.669057, 848.868065, 
    511.401026), ), ((-1124.4, 670.193949, -1267.267016), ), ((-958.066995, 
    674.413077, 325.636019), ), ((-957.615032, 221.758963, 547.400827), ), ((
    -124.4, 916.001709, -803.877075), ), ((-2901.041341, 650.0, -1640.050537), 
    ), ((-1124.4, 347.336751, 130.374619), ), ((-1667.37334, 644.602428, 
    522.563002), ), ((-4123.327149, 2515.2881, -1556.403238), ), ((
    -1094.532304, 2203.587408, -1660.885899), ), ((4875.6, 1023.984945, 
    20.239329), ), ((5075.817545, 410.701271, 167.875092), ), ((8395.568844, 
    817.535034, -1683.256763), ), ((6963.144036, 39.191033, 401.485634), ), ((
    -9884.754444, 205.682831, -4.256563), ))
pickedRegions =(faces, )
p.setElementType(regions=pickedRegions, elemTypes=(elemType1, elemType2))
elemType1 = mesh.ElemType(elemCode=T3D2, elemLibrary=STANDARD)
p = yachtModel.parts['compositehull']
e = p.edges
edges = e.findAt(((-8534.023693, 650.0, -1037.157227), ), ((-7789.212203, 
    650.0, -1033.351203), ), ((-7758.346375, 650.0, -862.157227), ), ((
    -7762.152398, 650.0, -468.023055), ), ((-8035.306414, 650.0, -437.157227), 
    ), ((-8738.601663, 650.0, -440.585152), ), ((-8818.965485, 650.0, 
    -573.165121), ), ((-8924.743503, 650.0, -905.87657), ), ((298.546099, 
    751.871769, 318.602946), ), ((306.608022, 755.912906, -0.740521), ), ((
    241.402557, 763.751299, -218.583364), ), ((154.149423, 770.371998, 
    -242.749202), ), ((38.647838, 777.057479, -131.073278), ), ((31.04225, 
    773.099312, 180.269094), ), ((96.440726, 765.049062, 411.795375), ), ((
    178.271826, 758.711699, 443.31184), ), ((1686.72886, 652.123261, 
    317.029606), ), ((1694.790783, 656.164397, -2.313861), ), ((1629.585318, 
    664.00279, -220.156704), ), ((1542.332184, 670.623489, -244.322542), ), ((
    1426.8306, 677.30897, -132.646618), ), ((1419.225011, 673.350803, 
    178.695754), ), ((1484.623487, 665.300553, 410.222035), ), ((1566.454587, 
    658.96319, 441.7385), ), ((-124.4, 981.109489, -1243.59942), ), ((-124.4, 
    974.369208, -514.679268), ), ((-124.4, 1194.806015, -480.620721), ), ((
    -124.4, 1738.075892, -476.566603), ), ((-124.4, 1772.744891, -739.193946), 
    ), ((-124.4, 1779.484599, -1406.720837), ), ((-124.4, 1583.396444, 
    -1473.713802), ), ((-124.4, 1061.706336, -1576.092749), ), ((1875.6, 
    878.048318, -1547.587721), ), ((1875.6, 1087.470427, -1454.990236), ), ((
    1875.6, 1098.888497, -760.087721), ), ((1875.6, 1006.291012, -409.005791), 
    ), ((1875.6, 723.888497, -397.587721), ), ((-4124.4, 1949.224934, 
    -1396.462381), ), ((-4124.4, 1193.911037, -1433.94642), ), ((-4124.4, 
    741.368626, -1298.681727), ), ((-4124.4, 702.946594, -410.978638), ), ((
    -4124.4, 807.867806, -16.915152), ), ((-4124.4, 1887.390018, -641.932517), 
    ), ((-2875.072718, 650.0, -238.602966), ), ((-3038.918641, 650.0, 
    -1540.982699), ), ((-3555.072718, 650.0, -1060.974915), ), ((-3391.226795, 
    650.0, 241.404818), ), ((-5373.727282, 650.0, -238.602966), ), ((
    -5209.881359, 650.0, -1540.982699), ), ((-4693.727282, 650.0, 
    -1060.974915), ), ((-4857.573205, 650.0, 241.404818), ), ((-7175.821411, 
    650.0, -355.650894), ), ((-7052.936969, 650.0, -1332.435694), ), ((
    -6665.821411, 650.0, -972.429855), ), ((-6788.705854, 650.0, 4.354944), ), 
    ((-1124.4, 2096.182174, -1154.507537), ), ((-1124.4, 1603.10487, 
    -1433.718762), ), ((-1124.4, 892.904085, -1417.885895), ), ((-1124.4, 
    702.946594, -942.853882), ), ((-1124.4, 716.383332, -87.321014), ), ((
    -1124.4, 1263.179183, -123.96599), ), ((4875.6, 866.842229, -392.794723), 
    ), ((4875.6, 1027.476554, -398.659081), ), ((4875.6, 1412.377755, 
    -1267.879681), ), ((4875.6, 1434.053149, -1607.173498), ), ((4875.6, 
    356.061405, -1609.177578), ), ((4875.6, 324.902682, -392.794723), ), ((
    1875.6, 423.888497, -397.587721), ), ((1875.6, 210.306567, -490.185206), ), 
    ((1875.6, 198.888497, -1185.087721), ), ((1875.6, 291.485982, 
    -1536.169651), ), ((1875.6, 586.367959, -1547.587721), ), ((-7524.4, 
    702.946594, -977.208987), ), ((-7524.4, 706.349449, -101.018541), ), ((
    -7524.4, 1838.80432, -709.594146), ), ((-7524.4, 1888.897103, 
    -1378.550749), ), ((-7524.4, 1082.669617, -1402.349976), ), ((-7524.4, 
    839.178679, -1402.429669), ), ((-7524.4, 713.009691, -1315.422895), ), ((
    8197.027396, 437.76145, -697.037898), ), ((8380.207186, 712.530168, 
    -1606.950498), ), ((8381.020774, 560.532404, -1610.991848), ), ((
    8380.945659, 117.392849, -1610.618731), ), ((8318.859596, 114.306266, 
    -1302.217397), ), ((8134.953262, 114.69855, -388.695825), ), ((8134.444981, 
    139.292729, -386.171032), ), ((8134.900855, 234.551991, -388.435501), ), ((
    8135.468671, 343.083003, -391.256024), ))
pickedRegions = regionToolset.Region(stringerEdges=(('Stringer-1', edges), ))
p.setElementType(regions=pickedRegions, elemTypes=(elemType1, ))
p = yachtModel.parts['compositehull']
f = p.faces
pickedRegions = f
p.setMeshControls(regions=pickedRegions, allowMapped=True)

pickedRegions = f.findAt(((9285.169022, 695.541863, -1874.746445), ))
p.setMeshControls(regions=pickedRegions, technique=SWEEP)

pickedRegions = f.findAt(((3824.111441, 2084.640762, -1712.362274), ))
p.setMeshControls(regions=pickedRegions, technique=SWEEP)

pickedRegions = f.findAt(((-9170.578269, 2015.308655, -1497.870886), ))
p.setMeshControls(regions=pickedRegions, technique=STRUCTURED)

p.ReplaceFaces(faceList=(f.findAt(coordinates=(-9789.889185, 1124.124954, 
    -234.450211)), f.findAt(coordinates=(-9170.578269, 2015.308655, 
    -1497.870886))), stitch=True)

pickedRegions = f.findAt(((-2684.540752, 2541.03979, -1579.895472), ))
p.setMeshControls(regions=pickedRegions, technique=STRUCTURED)

p.generateMesh()

a.regenerate()

session.viewports['Viewport: 1'].view.setValues(session.views['Iso'])
mdb.saveAs('composite-hull')


